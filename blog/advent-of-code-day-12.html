<!DOCTYPE html>
<html lang="en-gb">

<head>
<script data-ad-client="ca-pub-1254309748341319" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "TechArticle",
        "headline": "Advent of Code Day 12: Rain Risk",
        "datePublished": "2020-12-12",
        "author": {
          "@type": "Person",
          "name": "Joe Pitts",
          "additionalName": "David",
          "affiliation": "TrueNorthIT",
          "jobTitle": "Solutions Developer",
          "url": "https://JoePitts.co.uk",
          "sameAs": [
            "https://www.facebook.com/Joe.Pittsy",
            "https://www.linkedin.com/in/JoePittsy",
            "https://twitter.com/JoePittsy",
            "https://www.instagram.com/JoePittsy/",
            "https://github.com/JoePittsy"
          ]
        },
        "description": "Day Twelve of Advent of Code 2020!",
        "image": "https://joepitts.co.uk/resources/images/xmas/12.jpg"
   
      }
    </script>

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@JoePittsy" />
    <meta name="twitter:description" content="Rain Risk | Advent of Code 2020!" name="description" />
    <meta name="twitter:title" content="Joe Pitts | Advent of Code Day 12" />
    <meta name="twitter:creator" content="@JoePittsy" />
    <meta property="og:image" content="https://joepitts.co.uk/resources/images/xmas/12.jpg" />

    <meta property="og:title" content="Advent of Code Day 12" />
    <meta property="og:description" content="Day Twelve of Advent of Code 2020!" />
    <meta property="og:url" content="https://joepitts.co.uk/blog/advent-of-code-day-12.html" />
    <meta name="author" content="Joe Pitts" />

    <meta name="twitter:image" content="https://joepitts.co.uk/resources/images/xmas/12.jpg" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114382787-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());
        gtag("config", "UA-114382787-2");
    </script>
    <script src="/js/darkMode.js" type="text/javascript"></script>
    <script src="/js/clipboard.min.js"></script>
    <link href="/resources/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" />
    <link href="/resources/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link href="/resources/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/resources/site.webmanifest" rel="manifest" />
    <link href="/resources/safari-pinned-tab.svg" rel="mask-icon" />
    <meta content="#da532c" name="msapplication-TileColor" />
    <meta content="#ffffff" name="theme-color" />
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Joe Pitts | Advent of Code Day 12</title>
    <link href="/style.css" rel="stylesheet" type="text/css" />
    <meta content="Advent of Code Day 12!" name="description" />
    <meta lang="en-gb" />
    <noscript>
        <style>
            .jsonly {
                display: nones
            }
        </style>
    </noscript>
</head>

<body link="black" style="height: auto;">
    <div class="content" id="content">
            <header>
      <div id="container">
        <div id="header">
          <img alt="Joe Pitts" id="logo" src="/resources/JoePitts.jpg" title="Joe Pitts" width="10%" />
          <!-- <a href="/" id="title">
                    <p>Joe Pitts</p>
                  </a> -->
          <nav id="normalMenu">
            <ul class="menu">
              <li>
                <a href="/">Home</a>
              </li>
              <li>
                <a href="/blog" id="currentPage">Blog</a>
              </li>
              <li>
                <a href="/work.html">My Work</a>
              </li>
              <li>
                <a href="/games/">Games</a>
              </li>
              <li id="darkItem">
                <img class="toggleDark" onclick="toggleNightMode()" src="/resources/moon.svg">
                <!-- <a class="toggleDark" onclick="toggleNightMode();">Dark Mode</a> -->
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
        <hr />
        <div class="blogPost">
            <h1>Advent of Code: Day #12 - Rain Risk</h1>
            <span id="readingTime">
                <date>12th of December 2020</date> |
                <p>4 - 5 minutes</p>
            </span>
            <a class="anchor" href="#introduction">
                <h2 id="introduction">Introduction</h2>
            </a>
            <p>
                A storm has hit the ferry! Thankfully we are here to fix the computer and get us back on track.
            </p>

            <a class="anchor" href="#one">
                <h2 id="one">Task One</h2>
            </a>
            <p>
                Instructions are given in the form <tt>LetterNum</tt> where letter is N, E, S, W, F, B, L or R. If the
                letter is L(eft) or R(ight)
                then the number will be a multiple of 90. If the instruction is N,E,S or W then we move the boat num
                amount in that direction. Forward or Back move the boat by num in the current direction. The boat starts
                facing east.
            </p>
            <h3>Reading in the data</h3>
            <p>
                I read the data into an array of tuples where the first element is the instruction and the second is an
                integer
            </p>

            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getDataIn" id="dataCopy">Copy</span>
                </div>
                <pre><div id="getDataIn" style="color: #383a42; font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 20px;white-space: pre;" spellcheck="false" contenteditable="false"><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">read_data</span><span style="color: #383a42;">(</span><span style="color: #986801;">path</span><span style="color: #383a42;">):</span><div><span style="color: #383a42;">    dataset = []</span></div><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">with</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">open</span><span style="color: #383a42;">(path) </span><span style="color: #a626a4;">as</span><span style="color: #383a42;"> f:</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> line </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> f.readlines():</span></div><div><span style="color: #383a42;">            tmp = line.rstrip()</span></div><div><span style="color: #383a42;">            dataset.append((tmp[</span><span style="color: #986801;">0</span><span style="color: #383a42;">], </span><span style="color: #0184bc;">int</span><span style="color: #383a42;">(tmp[</span><span style="color: #986801;">1</span><span style="color: #383a42;">:])))</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> dataset</span></div></div></div></pre>
            </div>

            <h3>The Solution</h3>
            <p>
                Every iteration of the loop we get the current instruction and the associated number. If it's forward
                then we increment the respective element in the momentum dictionary by num. If it is Right or Left we
                increment the heading and set the new current_direction, if it's left then we subtract the angle from
                360
                so we can use the code for turning right for also turning left. If its a direction then we increase the
                momentum dictionary the specified amount.
            </p>
            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getTaskOne" id="oneCopy">Copy</span>
                </div>
                <pre id="getTaskOne"
                    spellcheck="false"><div style="color: #383a42;font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 20px;white-space: pre;" spellcheck="false" contenteditable="false"><div><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">task_one</span><span style="color: #383a42;">(</span><span style="color: #986801;">dirs</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">    momentum = {</span><span style="color: #50a14f;">"N"</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"E"</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"S"</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"W"</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">}</span></div><br><div><span style="color: #383a42;">    compass = [</span><span style="color: #50a14f;">"N"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"E"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"S"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"W"</span><span style="color: #383a42;">]</span></div><div><span style="color: #383a42;">    heading = </span><span style="color: #986801;">1</span></div><div><span style="color: #383a42;">    current_direction = compass[heading]</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> instruction, num </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> dirs:</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> instruction == </span><span style="color: #50a14f;">"F"</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">            momentum[current_direction] += num</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">elif</span><span style="color: #383a42;"> instruction </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> [</span><span style="color: #50a14f;">"R"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"L"</span><span style="color: #383a42;">]:</span></div><div><span style="color: #383a42;">            </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> instruction == </span><span style="color: #50a14f;">"L"</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">                num = </span><span style="color: #986801;">360</span><span style="color: #383a42;"> - num</span></div><div><span style="color: #383a42;">            heading += (num // </span><span style="color: #986801;">90</span><span style="color: #383a42;">)</span></div><div><span style="color: #383a42;">            heading %= </span><span style="color: #986801;">4</span></div><div><span style="color: #383a42;">            current_direction = compass[heading]</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">else</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">            momentum[instruction] += num</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">abs</span><span style="color: #383a42;">(momentum[</span><span style="color: #50a14f;">"N"</span><span style="color: #383a42;">] - momentum[</span><span style="color: #50a14f;">"S"</span><span style="color: #383a42;">]) + </span><span style="color: #0184bc;">abs</span><span style="color: #383a42;">(momentum[</span><span style="color: #50a14f;">"E"</span><span style="color: #383a42;">] - momentum[</span><span style="color: #50a14f;">"W"</span><span style="color: #383a42;">])</span></div></div></div></pre>
            </div>

            <a class="anchor" href="#two">
                <h2 id="two">Task Two</h2>
            </a>
            <h3>The Solution</h3>
            <p>
                For task two we learn that the instructions are for actually moving a waypoint instead of the boat. I
                tried the just make a few tweaks to part one to get it working but in the end realised it would be
                faster to just re-write the code.
            </p>
            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getTaskTwo" id="twoCopy">Copy</span>
                </div>
                <pre spellcheck="false"
                    id="getTaskTwo"><div style="color: #383a42;font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 20px;white-space: pre; " spellcheck="false" contenteditable="false"><div><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">task_two</span><span style="color: #383a42;">(</span><span style="color: #986801;">dirs</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">    wx, wy = </span><span style="color: #986801;">10</span><span style="color: #383a42;">, </span><span style="color: #986801;">1</span></div><div><span style="color: #383a42;">    x = y = </span><span style="color: #986801;">0</span></div><div><span style="color: #383a42;">    compass = {</span><span style="color: #50a14f;">"N"</span><span style="color: #383a42;">: </span><span style="color: #986801;">1</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"E"</span><span style="color: #383a42;">: </span><span style="color: #986801;">1</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"S"</span><span style="color: #383a42;">: -</span><span style="color: #986801;">1</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"W"</span><span style="color: #383a42;">: -</span><span style="color: #986801;">1</span><span style="color: #383a42;">}</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> instruction, num </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> dirs:</span></div><br><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> instruction </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> [</span><span style="color: #50a14f;">"N"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"S"</span><span style="color: #383a42;">]:</span></div><div><span style="color: #383a42;">            wy += num * compass[instruction]</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> instruction </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> [</span><span style="color: #50a14f;">"E"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"W"</span><span style="color: #383a42;">]:</span></div><div><span style="color: #383a42;">            wx += num * compass[instruction]</span></div><br><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">elif</span><span style="color: #383a42;"> instruction == </span><span style="color: #50a14f;">"F"</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">            x += wx * num</span></div><div><span style="color: #383a42;">            y += wy * num</span></div><br><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">elif</span><span style="color: #383a42;"> instruction </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> [</span><span style="color: #50a14f;">"R"</span><span style="color: #383a42;">, </span><span style="color: #50a14f;">"L"</span><span style="color: #383a42;">]:</span></div><div><span style="color: #383a42;">            </span><span style="color: #a0a1a7;font-style: italic;"># Swap around for every turn of the compass</span></div><div><span style="color: #383a42;">            </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> _ </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">range</span><span style="color: #383a42;">(num // </span><span style="color: #986801;">90</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">                </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> instruction == </span><span style="color: #50a14f;">"R"</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">                    wx, wy = wy, -wx</span></div><div><span style="color: #383a42;">                </span><span style="color: #a626a4;">else</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">                    wx, wy = -wy, wx</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">abs</span><span style="color: #383a42;">(y) + </span><span style="color: #0184bc;">abs</span><span style="color: #383a42;">(x)</span></div></div></div></pre>
            </div>

            <a class="anchor" href="#links">
                <h2 id="links">Links</h2>
            </a>
            <div class="download">
                <p><a href="https://adventofcode.com/2020/leaderboard/private">Leaderboard Code:</a>
                    <small>353270-1fc6ef28</small></p>
            </div>

            <div class="download">
                <p><a href="https://www.github.com/JoePittsy/AdventOfCode/">Github Repository</a>
                    <small>A link to the github repo containing all the days.</small></p>
            </div>
            <div class="download">
                <p><a href="https://raw.githubusercontent.com/JoePittsy/AdventOfCode/main/Day 12/main.py"
                        download>main.py</a>
                    <small>A direct download of the main.py script</small></p>
                <p class="download__instructions">
                    <small class="download__properties">1.8<abbr title="Kilobytes">Kb</abbr></small>
                </p>
            </div>


        </div>
        <p></p>
        <div id="disqus_thread"></div>
        <script>
            (function () {
                // DON'T EDIT BELOW THIS LINEx
                var d = document,
                    s = d.createElement("script");
                s.src = "https://joepitts-co-uk.disqus.com/embed.js";
                s.setAttribute("data-timestamp", +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the
            <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

<div class="footer">
    <ul class="footerContainer">
      <li>
        <p id="copyright">Copyright © 2018-2023, Joe Pitts. All rights reserved.</p>
      </li>
      <a href="https://www.linkedin.com/in/joepittsy"><img class="footerLogo" src="../resources/ln.svg"></a>
      <a href="https://github.com/JoePittsy">
        <li><img class="footerLogo" src="../resources/github.svg"></li>
      </a>
      <a href="https://twitter.com/JoePittsy">
        <li><img class="footerLogo" src="../resources/twitter.svg"></li>
      </a>
    </ul>

    <div class="mobileFooterContainer">
      <p id="copyright">Copyright © 2018-2023, Joe Pitts. All rights reserved.</p>
      <div class="mobileFooter">
        <a href="https://www.linkedin.com/in/joepittsy"><img class="footerLogo" src="../resources/ln.svg"></a>
        <a href="https://github.com/JoePittsy"><img class="footerLogo" src="../resources/github.svg"></a>
        <a href="https://twitter.com/JoePittsy"><img class="footerLogo" src="../resources/twitter.svg"></a>
      </div>
    </div>
    <script defer>
        (function () {
            new ClipboardJS("#dataCopy, #oneCopy, #twoCopy, #compCopy");
        })();
    </script>
</body>

</html>